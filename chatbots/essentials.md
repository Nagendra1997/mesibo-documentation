---
description: Mesibo Chatbot and Scripting - Introduction
keywords: chatbot, script, scripting
title: Mesibo Chatbot and Scripting - Introduction
---

In this section we will look at some of the basic and essential features of mesibo scripting that you can use to build your custom logic for handling incoming and outgoing messages.

## The mesibo global object
There exists a global instance `mesibo` of the class `Mesibo` that provides various callbacks such as `mesibo.onmessage`, `mesibo.onmessagestatus`, `mesibo.onlogin`. All the operations that you specify in your script should be within the scope of these callbacks.

## Receiving a message
When a message is recieved by the user, the function `mesibo.onmessage` will be called. You must mandatorily specify the function callback for `mesibo.onmessage`.  

Example,
```javascript
mesibo.onmessage = function(p){
	print(p);
}
```

## Sending a message
To send a message, you need to create a [`Message`]() object , pass the data in the `message` property and then send it.

```javascript
var msg = new Message();
msg.message = "This is a message";
msg.send();
``` 
The `to` and `from` address will be automatically initialized by mesibo for you. The `from` field will be the address of the user the script is running for. The `to` field will be the address of the user who has sent you the message and will be initialized in the context of `mesibo.onmessage`. You can modify the `to` and `from` values if you need to. 

```javascript
var msg = new Message();
print(msg.from. msg.to);
```
For example, This code snippet sends a custom reply to any message recieved. 

## Sending an automatic response 
```javascript
mesibo.onmessage = function(message){
	//On receiving a message we send an automated reply to the sender 

	//Create a new Message object
	var replyMessage = new Message();

	//Custom response text/data	
	replyMessage.data = "This is an automated response";

	//Send Message!	
	replyMessage.send();
}
```
## Getting status of a sent message
To get the status of a sent message define the callback for `mesibo.onmessagestatus`. It is not mandatory to define this callback.

### Session 
The `session` object describes a user. The session property is useful when you need to maintain context or store a value in case of a chatbot conversation. The `session_id`  is a unique identifier that is generated by mesibo to describe a user associated with a script.

Session properties exist as a single instance at the global level. Please note that any changes made to the session properties will affect all references to the session object. The following session properties are accessible from all other classes and all of them refer to the singular session instance. Please note that `session_id` is readonly. You can store any arbitrary object in the session.

The session property is accessible from all classes . Example, `Mesibo.session`, `Message.session`, `Http.session`, `Socket.session`, `Dialogflow.session`, etc. 

Example,

```javascript
mesibo.session = {"session_key": "Session Value", "test": "OK"};
print(mesibo.session.test); //Prints "OK"

mesibo.session = "session string"; //Overriding session
print(mesibo.session); //Prints "session string"

var m = new Message();
m.session = "session message"; //Overriding session
print(mesibo.session); //Prints "session message"

```

## Usage advice on global variables
It is advisable not to use global variables. Your scripts maybe executed in a shared context and there is no protection against sideeffects caused due to modifying global variables. That is, a modification of a global variable in one script may affect another in global scope.

You can store any required object or value in the session object for using it persistently.

The further sections of this document will explain the usage of using various classes you can use in your script,their properties and methods in detail.

- [Mesibo]()
- [Messaging]()
- [Http]()
- [Socket]()

